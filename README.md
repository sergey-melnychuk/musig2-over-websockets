# musig2-over-websockets

```bash
$ cargo run --example musig2
...
pub key 0: 03ead85c522c4c1f02e179eb023760802c75aafa7f468662c7c534ec8e79d8e33d
pub key 1: 02a7a790d09334ab4d441e28615ead02f06b42900c11c25bf317c6c2e0a9f19bc4
pub key 2: 022dc20e6591cc1f6e0f9e99088d8f00a6629447a48e6424371a1cc434c022d181
---
agg pub key: 02b6d210c9abb465d5c35ac9981473e3996675f37e3b09fa6813c0e7b23b2e5ea1
agg SEC KEY: d8c6895f27320d9acb229f0cd70f1913abb72a5893e02bfd006597fa17e82a78
---
signer pub nonce: 03aee11900f7752201e2b799fcf551e2adb15307378472806afdcae5be099a9f7102518cde57edc62e94dfc0c475cd04f8afb87dd7ff5581e145e6cc1165b673fc48
peer 0 pub nonce: 03cd3021ee20211c6a94984bfe1033303efbb3a144b5ff0b65e922ee946413029502b62a38dafde9218dcfeadfb96a02eb79b73c7f4bd6941a9250d833203cf52100
peer 1 pub nonce: 03878e2c37eee0f20f17feb44aae84dec62423b81afb9fcef30bc1246ace99f75e03d6bf54d50d03735b46041790f873ccdc1896a85760ca401ef36f5b9d52a56976
---
peer 0 par sig: 9d3c75daefeabab906cf3268d6ea0bec252bd469f3ebc106268c1ea27a6dc12b
peer 1 par sig: 15d463e6e5d3b5444fc51bbd36f6b6c7b5650cff0deac8c63c86697a089bddef
---
agg sig: d526f4550aa4d18ed67ff8681442d8ffd79fb00652de94688f5a5fa4a09b7905388e18f2783cf42c3c5a8f429281bc9953be0a573651d83e5e2a37b2a880d6cc
agg sig: OK
Schnorr: OK
```

```bash
$ cargo test -- --nocapture
...
Connected to WebSocket server.
[client 0] sent: {"Intro":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d"}}
Connected to WebSocket server.
[client 1] sent: {"Intro":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0"}}
[client 0] rcvd: {"Intro":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0"}}
Connected to WebSocket server.
[client 2] sent: {"Intro":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967"}}
[client 0] rcvd: {"Intro":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967"}}
[client 0] sent: {"Setup":{"pubkeys":["03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967"],"message":"The answer is 42"}}
[client 0] sent: {"Nonce":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","pubnonce":"02d80ae26bc3b75ef0212522f7a753abca2f2c5a8b5588bcd95eb2e7de0ff29405020f40368b38b069b7b7ebd05a8ccfc0894922ba5fb45332b23f2441a7a9d6bfbd"}}
[client 1] rcvd: {"Intro":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967"}}
[client 1] rcvd: {"Setup":{"pubkeys":["03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967"],"message":"The answer is 42"}}
[client 1] sent: {"Nonce":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","pubnonce":"032218857d858475e2be5f95a086d7c32a825f57f428a574371769a8d67f76783d02267f46ea69ddcef2160b4a9610fee0c5ef5e2bf7a3ec65040174a596922e6f0d"}}
[client 1] rcvd: {"Nonce":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","pubnonce":"02d80ae26bc3b75ef0212522f7a753abca2f2c5a8b5588bcd95eb2e7de0ff29405020f40368b38b069b7b7ebd05a8ccfc0894922ba5fb45332b23f2441a7a9d6bfbd"}}
[client 2] rcvd: {"Setup":{"pubkeys":["03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967"],"message":"The answer is 42"}}
[client 2] sent: {"Nonce":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967","pubnonce":"02fd7d0a0bb797ea08fcb313a6327ddf790525c92fb1ee0a1b8881fbd4fa4fc2ba03151005deaa625f4af47d799eda3d4d6e4d1910dcf7fcd9501da1f655d65f7852"}}
[client 2] rcvd: {"Nonce":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","pubnonce":"02d80ae26bc3b75ef0212522f7a753abca2f2c5a8b5588bcd95eb2e7de0ff29405020f40368b38b069b7b7ebd05a8ccfc0894922ba5fb45332b23f2441a7a9d6bfbd"}}
[client 0] rcvd: {"Nonce":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","pubnonce":"032218857d858475e2be5f95a086d7c32a825f57f428a574371769a8d67f76783d02267f46ea69ddcef2160b4a9610fee0c5ef5e2bf7a3ec65040174a596922e6f0d"}}
[client 0] rcvd: {"Nonce":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967","pubnonce":"02fd7d0a0bb797ea08fcb313a6327ddf790525c92fb1ee0a1b8881fbd4fa4fc2ba03151005deaa625f4af47d799eda3d4d6e4d1910dcf7fcd9501da1f655d65f7852"}}
[client 0] sent: {"ParSig":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","parsig":"651c378d3804dd5ffe67c91932ca6923ae9f7cb8e79b1ab8aaf6c1711929805d"}}
[client 1] rcvd: {"Nonce":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967","pubnonce":"02fd7d0a0bb797ea08fcb313a6327ddf790525c92fb1ee0a1b8881fbd4fa4fc2ba03151005deaa625f4af47d799eda3d4d6e4d1910dcf7fcd9501da1f655d65f7852"}}
[client 1] sent: {"ParSig":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","parsig":"0bce78e89bf4702c4658bc7d2035199afab663d90aaec5329421bee40a767334"}}
[client 2] rcvd: {"Nonce":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","pubnonce":"032218857d858475e2be5f95a086d7c32a825f57f428a574371769a8d67f76783d02267f46ea69ddcef2160b4a9610fee0c5ef5e2bf7a3ec65040174a596922e6f0d"}}
[client 2] sent: {"ParSig":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967","parsig":"9777c6edeedc73f099eaf59f5f051d887482be9f05907cf3c5aebade4295ec01"}}
[client 1] rcvd: {"ParSig":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","parsig":"651c378d3804dd5ffe67c91932ca6923ae9f7cb8e79b1ab8aaf6c1711929805d"}}
[client 2] rcvd: {"ParSig":{"pubkey":"03a3746351d4337919b1bc4dc4e2cf5e583512f22bd59e4831f85f12ff8685246d","parsig":"651c378d3804dd5ffe67c91932ca6923ae9f7cb8e79b1ab8aaf6c1711929805d"}}
[client 2] rcvd: {"ParSig":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","parsig":"0bce78e89bf4702c4658bc7d2035199afab663d90aaec5329421bee40a767334"}}
[client 2] AGG SIG: 94fa7d430ec4c2758ec00511d57a9cb6e4299b564457c5a09ea749c210bafa3208627763c2d5c17cdeab7b35b204a0486329c24a4891bca344f4dca695ff9e51
[client 0] rcvd: {"ParSig":{"pubkey":"0347fe58447df41cfc0a59589909179f1e90099254a22c200fb06b3cd5e0b0b5b0","parsig":"0bce78e89bf4702c4658bc7d2035199afab663d90aaec5329421bee40a767334"}}
[client 0] rcvd: {"ParSig":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967","parsig":"9777c6edeedc73f099eaf59f5f051d887482be9f05907cf3c5aebade4295ec01"}}
[client 0] AGG SIG: 94fa7d430ec4c2758ec00511d57a9cb6e4299b564457c5a09ea749c210bafa3208627763c2d5c17cdeab7b35b204a0486329c24a4891bca344f4dca695ff9e51
[client 1] rcvd: {"ParSig":{"pubkey":"03db96b9d5622701d861b24be2b9e10f8bfe321bfde7255bb8cc5f2337bc00e967","parsig":"9777c6edeedc73f099eaf59f5f051d887482be9f05907cf3c5aebade4295ec01"}}
[client 1] AGG SIG: 94fa7d430ec4c2758ec00511d57a9cb6e4299b564457c5a09ea749c210bafa3208627763c2d5c17cdeab7b35b204a0486329c24a4891bca344f4dca695ff9e51
test musig2 ... ok
...
```
